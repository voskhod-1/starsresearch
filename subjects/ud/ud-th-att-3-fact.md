[назад](ud.md)
***
#### Команда **`COMMIT`** завершает текущую транзакцию, при этом гарантируется, что результаты работы транзакции сохраняются в базе данных

#### Свойство транзакции **`долговечность`** состоит в том, что, если транзакция выполнена, то результаты ее работы должны сохраниться в базе данных, даже если в следующий момент произойдет сбой системы

#### Восстановление согласованного состояния базы данных после сбоев подразумевает, что
+ [x] **результаты всех транзакций, не выполненных до конца из-за произошедшего сбоя, должны отсутствовать в восстановленном состоянии БД**
+ [x] **результаты всех зафиксированных командой COMMIT транзакций должны присутствовать в восстановленном состоянии БД**
+ [ ] результаты транзакций, зафиксированных командой COMMIT должны быть выполнены заново
+ [ ] транзакции, которые не успели выполниться до конца из-за произошедшего сбоя, после восстановления работоспособности системы должны быть заново выполнены до конца

#### Укажите ситуации, которые относят к "жесткому" сбою системы
+ [x] **содержимое оперативной памяти сохраняется**
+ [x] **разрушаются данные на устройстве долговременной памяти (диске)**
+ [ ] пропадает изображение с экрана монитора
+ [ ] теряется содержимое буферов оперативной памяти
+ [ ] нарушается работа процессора компьютера
+ [ ] возникают ошибки при передаче данных по сети
+ [ ] теряется содержимое оперативной памяти
+ [ ] возникают ошибки при обмене данными с внешними устройствами
+ [ ] теряется возможность передачи данных по сети

#### Команда зафиксировать транзакцию
+ [x] **COMMIT**
+ [ ] COLLECT
+ [ ] ESCAPE
+ [ ] SAVE
+ [ ] ENTER
+ [ ] COMBACK
+ [ ] EXIT
+ [ ] ROLMIT
+ [ ] ROLLBACK

#### Транзакция - это
+ [x] **последовательность операторов манипулирования данными БД, переводящая базу данных из одного согласованного состояния в другое**
+ [x] **последовательность операторов манипулирования данными БД, выполняющаяся как единое целое**
+ [x] **последовательность операторов манипулирования данными БД, обладающая определенными свойствами**
+ [ ] любая последовательность SQL-запросов
+ [ ] процедура восстановления данных после сбоя
+ [ ] результат выполнения SQL-запроса
+ [ ] любой 5QL-запрос
+ [ ] любая последовательность операторов манипулирования данными БД
+ [ ] процедура обеспечения сохранения данных на диске

#### Отметьте свойства, которыми должна обладать транзакция
+ [x] **долговечность**
+ [x] **изолированность**
+ [x] **согласованность**
+ [x] **атомарность**
+ [ ] независимость
+ [ ] замкнутость
+ [ ] неупорядоченность
+ [ ] избирательность
+ [ ] синхронность
+ [ ] полнота
+ [ ] доступность
+ [ ] недолговечность
+ [ ] сбалансированность
+ [ ] вложенность
+ [ ] взаимозависимость
+ [ ] последовательность
+ [ ] уникальность
+ [ ] структурированность
+ [ ] асинхронность
+ [ ] упорядоченность

#### Свойство транзакции "Изолированность" состоит в том, что
+ [ ] если транзакция выполнена, то результаты ее работы должны сохраниться в базе данных, даже если в следующий момент произойдет сбой системы
+ [ ] транзакции должны выполняться последовательно друг за другом
+ [ ] транзакция переводит базу данных из одного согласованного состояния в другое согласованное состояние, с обязательной поддержкой согласованности
+ [ ] данных во все промежуточные моменты времени
+ [ ] транзакция переводит базу данных из одного согласованного состояния в другое согласованное состояние, без обязательной поддержки согласованности
+ [ ] данных во все промежуточные моменты времени
+ [x] **транзакции не должны влиять друг на друга**
+ [ ] транзакции не могут выполняться одновременно
+ [ ] транзакция выполняется только вся целиком, как неделимый набор операций

#### Свойство транзакции **`атомарность`** состоит в том, что транзакция выполняется только вся целиком, как неделимая операция.

#### Укажите ситуации, которые относят к "жесткому" сбою системы
+ [x] **нарушение работоспособности системы из-за отказа устройств долговременной памяти (дисков)**
+ [ ] нарушение работоспособности системы из-за потери содержимого оперативной памяти
+ [ ] выход из строя контроллера жесткого диска
+ [ ] выход из строя процессора компьютера
+ [ ] нарушение работоспособности системы из-за нарушения энергопитания системы
+ [ ] нарушение работоспособности системы, последствия которого могут быть устранены самой операционной системой без отключения компьютера
+ [ ] выход из строя ячеек оперативной памяти компьютера

#### Для чего используется буферизация в оперативной памяти страниц базы данных и страниц журнала транзакций?
+ [x] **Для повышения скорости выполнения операций над данными базы данных**
+ [ ] Для обеспечения возможности восстановления данных после сбоев
+ [ ] Для обеспечения дублирования данных, облегчающего их восстановление при сбоях
+ [ ] Для экономии места во внешней памяти
+ [ ] Для повышения скорости записи данных на диски
+ [ ] Для продления ресурса дисков

#### Любые действия по модификации данных в базе данных
+ [x] **могут в какие-то моменты времени нарушать целостность данных**
+ [x] **должны переводить базу данных из одного целостного состояния в другое целостное состояние**
+ [ ] ни в один момент времени не должны нарушать ограничений целостности базы данных
+ [ ] всегда должны обеспечивать сохранение базы данных в целостном (согласованном) состоянии

#### Свойство транзакции **`согласованность`** состоит в том, что транзакция переводит базу данных из одного согласованного состояния в другое также согласованное состояние, без обязательной поддержки согласованности данных во все промежуточные моменты времени.

#### Принципы согласованной политики выталкивания буфера журнала транзакций и буферов страниц базы данных:
+ [x] **При выполнении команды СОММІТ во внешнюю память журнала должны быть вытолкнуты все записи буфера журнала, относящиеся к изменениям данных, совершенных этой транзакцией**
+ [ ] Фиксация транзакции командой СOММІТ означает, что все измененные танзакцией объекты сохранены во внешней памяти
+ [ ] Фиксация транзакции командой СОММІТ означает, что транзакция не может быть доведена до конца и ее следует откатить
+ [ ] При фиксации транзакции командой COMMIT измененные транзакцией данные записываются на диск, а записи буфера журнала транзакций очищаются
+ [ ] Фиксация транзакции командой COMMIT, что память, отведенная для этой транзакции под буфер журнала, может быть освобождена и предоставлена другой транзакции
+ [ ] При выполнении команды СОММІТ во внешнюю память должны быть вытолкнуты из буферов данных все записи, относящиеся к изменениям данных, совершенныхэтой транзакцией

#### Логическая единица работы СУБД, представляющая собой последовательность операторов манипулирования данными, выполняющаяся как единое целое и переводящая базу данных из одного согласованного состояния в другое называется `...`
+ транзакцией

#### Команда **`ROLLBACK`** завершает неудачную транзакцию, полностью аннулируя ее результаты.

***

#### Укажите правильные ответы, относящиеся к транзакции T1
<img width="388" height="188" alt="Screenshot 2025-11-28 at 23 24 27" src="https://github.com/user-attachments/assets/8abf743d-73f6-4183-8276-a3a029aa4558" />

+ [x] **никаких операций по восстановлению не требуется**
+ [ ] транзакцию необходимо повторить целиком
+ [ ] требуется откатить транзакцию
+ [ ] для транзакции необходимо повторить заново операции, которые были выполнены после принятия контрольной точки
+ [ ] для транзакции необходимо повторить заново операции, которые были выполнены до принятия контрольной точки

#### Укажите правильные ответы, относящиеся к транзакции Т4
<img width="351" height="169" alt="Screenshot 2025-11-28 at 23 28 17" src="https://github.com/user-attachments/assets/ad40eee2-076f-4b2f-8a89-4ef276e17f90" />

+ [x] **все записи журнала этой транзакции сохранены в долговременной памяти**
+ [x] **начата после принятия контрольной точки**
+ [x] **успешно завершена до сбоя системы**
+ [x] **измененные в ходе этой транзакции данные отсутствуют в долговременной памяти**
+ [ ] начата до принятия контрольной точки
+ [ ] все измененные в ходе этой транзакции данные сохранены в долговременной памяти
+ [ ] не все записи журнала об изменениях данных в этой транзакции сохранены в долговременной памяти
+ [ ] не все записи журнала этой транзакции сохранены в долговременной памяти
+ [ ] данные, измененные транзакцией до контрольной точки, сохранены в долговременной памяти
+ [ ] не успела завершиться до сбоя системы
+ [ ] записи журнала этой транзакции отсутствуют в долговременной памяти

#### Укажите правильные ответы, относящиеся к транзакции T2
<img width="357" height="171" alt="Screenshot 2025-11-28 at 23 28 37" src="https://github.com/user-attachments/assets/4beffdca-ec2e-4446-9c1c-c2262c4d60c1" />

+ [x] **данные, измененные транзакцией до контрольной точки, сохранены в долговременной памяти**
+ [x] **все записи журнала этой транзакции сохранены во внешней памяти**
+ [x] **данные, измененные транзакцией после контрольной точки, отсутствуют в долговременной памяти**
+ [ ] записи журнала этой транзакции отсутствуют во внешней памяти
+ [ ] все измененные транзакцией данные сохранены в долговременной памяти
+ [ ] данные, измененные транзакцией до контрольной точки, отсутствуют в долговременной памяти
+ [ ] все измененные транзакцией страницы данных отсутствуют в долговременной памяти
+ [ ] не все записи журнала этой транзакции сохранены во внешней памяти
+ [ ] данные, измененные транзакцией после контрольной точки, сохранены в долговременной памяти

#### Укажите правильные ответы, относящиеся к транзакции Т5
<img width="363" height="173" alt="Screenshot 2025-11-28 at 23 29 53" src="https://github.com/user-attachments/assets/b1a9a8fd-a360-4f35-a6cf-88e290c0f798" />

+ [x] **никаких действий предпринимать не нужно**
+ [ ] для транзакции необходимо повторить заново операции, которые были выполнены до сбоя
+ [ ] для транзакции необходимо повторить заново операции, которые были выполнены после принятия контрольной точки
+ [ ] транзакцию следует откатить
+ [ ] для транзакции необходимо повторить заново операции, которые были выполнены до принятия контрольной точки
+ [ ] транзакцию следует повторить заново
+ [ ] для транзакции необходимо выполнить операции, которые она не смогла выполнить из-за сбоя

#### Укажите правильные ответы, относящиеся к транзакции T3
<img width="371" height="175" alt="Screenshot 2025-11-28 at 23 31 10" src="https://github.com/user-attachments/assets/39962991-eb8d-4253-8bf9-d29cb951da41" />

+ [x] **изменения данных, внесенные транзакцией после контрольной точки во внешней памяти отсутствуют**
+ [x] **не завершена в результате сбоя**
+ [x] **начата до принятия контрольной точки**
+ [x] **записи журнала этой транзакции до контрольной точки находятся во внешней памяти**
+ [x] **страницы данных, измененные транзакцией до принятия контрольной точки, содержатся во внешней памяти**
+ [ ] все записи журнала этой транзакции отсутствуют во внешней памяти
+ [ ] успешно завершена до сбоя
+ [ ] страницы данных, измененные транзакцией до принятия контрольной точки, отсутствуют во внешней памяти
+ [ ] никаких следов изменений, внесенных транзакцией во внешней памяти нет
+ [ ] все записи журнала этой транзакции до момента сбоя находятся во внешней памяти
+ [ ] начата после принятия контрольной точки

***

#### Если транзакция уже заблокировала некоторый объект S-блокировкой, то перед обновлением этого объекта
+ [x] **она должна заменить S-блокировку на Х-блокировку**
+ [ ] так как S-блокировка установлена этой же транзакцией, то для обновления объекта блокировка может не изменяться
+ [ ] S-блокировка уже не может заменяться на Х-блокировку
+ [ ] установленная блокировка может меняться только после ее снятия

#### Совместимость S и Х блокировок

Если транзакция А заблокировала кортеж S-блокировкой, 
то транзакция В **`может`** наложить свою S-блокировку;
то транзакция В **`не может`** и наложить свою Х-блокировку:
то транзакция А **`может`** наложить свою Х-блокировку;
то транзакция В **`не может`** разблокировать кортеж и наложить свою S-блокировку;
то транзакция В **`не может`** разблокировать кортеж и наложить свою X-блокировку.

#### Совместимость S и Х блокировок

Если транзакция А заблокировала кортеж X-блокировкой,
то транзакция В **`не может`** наложить свою S-блокировку;
то транзакция В **`не может`** наложить свою X-блокировку:
то транзакция А **`не может`** наложить свою S-блокировку:
то транзакция B **`не может`** разблокировать кортеж и наложить свою S-блокировку:
то транзакция В **`не может`** разблокировать кортеж и наложить свою Х-блокировку.

#### Какие проблемы возникают при параллельном выполнении представленных на рисунке транзакций?
<img width="508" height="207" alt="Screenshot 2025-11-28 at 23 41 38" src="https://github.com/user-attachments/assets/e41fec94-5f8c-4b2a-8b1c-79444f36dabf" />

+ [x] **Проблема несовместимого анализа - фиктивные элементы (фантомы)**
+ [ ] Проблема потери результатов обновления.
+ [ ] Проблема несовместимого анализа - собственно несовместимый анализ
+ [ ] Проблема незафиксированной зависимости (чтение "грязных данных", неаккуратное считывание)
+ [ ] Проблема несовместимого анализа - неповторяемое считывание

#### Какие проблемы имеют место при параллельном выполнении представленных на рисунке транзакций?
<img width="513" height="227" alt="Screenshot 2025-11-28 at 23 43 06" src="https://github.com/user-attachments/assets/0ca82c2e-6d04-46cd-a95b-8f3ad39cc017" />

+ [x] **Проблема незафиксированной зависимости (чтение "грязных данных", неаккуратное считывание)**
+ [ ] Проблема несовместимого анализа - неповторяемое считывание
+ [ ] Проблема потери результатов обновления.
+ [ ] Проблема несовместимого анализа - фиктивные элементы (фантомы)
+ [ ] Проблема несовместимого анализа - собственно несовместимый анализ

#### Транзакции называются конкурирующими, если

+ **выполнение одной транзакции влияет на выполнение другой транзакции**
+ они обращаются к одним и тем же данным
+ они одновременно обращаются к одним и тем же данным
+ они начинаются одновременно
+ они заканчиваются одновременно
+ они выполняются одновременно
+ они пересекаются во времени

#### Какая ситуация имеет место в приведенном ниже примере?
<img width="436" height="283" alt="Screenshot 2025-11-28 at 23 45 18" src="https://github.com/user-attachments/assets/70568ba7-661c-4e04-a397-8114687ddfea" />

+ [x] **решение проблемы незафиксированной зависимости (чтение "грязных данных", неаккуратное считывание)**
+ [ ] не решенная проблема незафиксированной зависимости (чтение "грязных данных", неаккуратное считывание)
+ [ ] решение проблемы несовместимого анализа - фиктивные элементы (фантомы)
+ [ ] не решенная проблема потери результатов обновления
+ [ ] не решенная проблема несовместимого анализа - неповторяемое считывание
+ [ ] решение проблемы несовместимого анализа - неповторяемое считывание
+ [ ] возникла новая проблема - ситуация тупика
+ [ ] не решенная проблема несовместимого анализа - фиктивные элементы (фантомы)
+ [ ] решение проблемы потери результатов обновления

#### Какая ситуация имеет место в приведенном ниже примере?
<img width="425" height="267" alt="Screenshot 2025-11-28 at 23 46 54" src="https://github.com/user-attachments/assets/a6436317-1001-4892-bddb-94f86b06fddf" />

+ [ ] **решение проблемы соственно несовместимого анализа**
+ [x] **возникновение проблемы - ситуация тупика**
+ [ ] решение проблемы потери результатов обновления
+ [ ] решение проблемы несовместимого анализа - неповторяемое считывание
+ [ ] не решенная проблема несовместимого анализа - фиктивные элементы (фантомы)
+ [ ] не решенная проблема несовместимого анализа - неповторяемое считывание
+ [ ] не решенная проблема незафиксированной зависимости (чтение "грязных данных", неаккуратное считывание)
+ [ ] не решенная проблема потери результатов обновления
+ [ ] решение проблемы несовместимого анализа - фиктивные элементы (фантомы)
+ [ ] решение проблемы незафиксированной зависимости (чтение "грязных данных", неаккуратное считывание)

#### Какие из приведенных ниже утверждений соответствуют протоколу двухфазной блокировки?

+ [x] **После снятия блокировки с какого-либо объекта транзакция не должна накладывать блокировок на другие объекты**
+ [x] **Перед выполнением каких-либо операций с некоторым объектом базы данных транзакция должна заблокировать этот объект**
+ [ ] Если после снятия блокировки с какого-либо объекта транзакция хочет снова работать с этим объектом, то она вначале должна снова заблокировать этот объект
+ [ ] Если после снятия блокировки с какого-либо объекта транзакция хочет работать с другим объектом, то она вначале должна заблокировать этот объект
+ [ ] Перед выполнением каких-либо операций с заблокированным объектом базы данных транзакция должна снять блокировку с этого объекта

#### Удовлетворяет ли приведенная на рисунке транзакция требованиям протокола двухфазной блокировки?
<img width="449" height="183" alt="Screenshot 2025-11-28 at 23 49 24" src="https://github.com/user-attachments/assets/7c905a54-32d1-40fc-b806-590a0e36a1c1" />
+ **да**
+ нет

#### Удовлетворяет ли приведенная на рисунке транзакция требованиям протокола двухфазной блокировки?
<img width="534" height="92" alt="Screenshot 2025-11-28 at 23 50 22" src="https://github.com/user-attachments/assets/a85e8927-b7f0-4a6e-888c-664c8de71f00" />

+ **нет**
+ да

#### Укажите, какие из представленных на рисунках последовательностей блокирования, работы и освобождения объектов БД соответствуют схемам
<img width="1117" height="87" alt="Screenshot 2025-11-28 at 23 51 55" src="https://github.com/user-attachments/assets/e2464845-0666-4772-910c-bf3fb72f01c9" />

**`не соответствует`**
<img width="1133" height="87" alt="Screenshot 2025-11-28 at 23 52 21" src="https://github.com/user-attachments/assets/2a897ce5-6155-4ca9-8735-746d9138aa57" />

**`соответствует`**
<img width="1138" height="106" alt="Screenshot 2025-11-28 at 23 52 32" src="https://github.com/user-attachments/assets/2e3696dd-1559-440f-a012-fc5f209b9872" />

**`не соответствует`**
<img width="1126" height="94" alt="Screenshot 2025-11-28 at 23 52 46" src="https://github.com/user-attachments/assets/38a9ea8c-1c11-4e46-873b-14b9e840092a" />

**`соответствует`**

#### Если блокируется более крупный объект базы данных, то

+ [x] накладные расходы на установку блокировок ниже
+ [x] вероятность конфликта транзакций выше
+ [ ] вероятность конфликта транзакций ниже
+ [ ] накладные расходы на установку блокировок не зависят от размера блокируемого объекта БД
+ [ ] вероятность конфликта транзакций не зависит от размера блокируемого объекта БД
+ [ ] накладные расходы на установку блокировок выше

#### Для решения каких проблем, возникающих при конфликте транзакций, целесообразно применять предикатные синхронизационные блокировки?

+ [x] Несовместимый анализ - фиктивные элементы (фантомы) V
+ [ ] Несовместимый анализ - неповторяемое считывание
+ [ ] Проблема незафиксированной зависимости (чтение «грязных данных», неаккуратное считывание)
+ [ ] Проблема потери результатов обновления
+ [ ] Собственно несовместимый анализ

Каждой транзакции Т приписывается временная метка t, соответствующая моменту ее
**`начала`**.
Транзакция В перед выполнением операции над объектом R выполняет следующие действия.
Проверяет, помечен ли и кем помечен этот объект другой транзакцией.
Если объект
**`не помечен`**, то транзакция помечает его своей временной меткой и типом операции (чтение или изменение).
Если объект **`помечен`** , то транзакция **`B`** проверяет, не закончилась ли транзакция **`A`**, пометившая этот объект.
Если транзакция **`A`** **`завершилась`**, транзакция **`В`** помечает объект R своей временной меткой и выполняет операцию.
Если транзакция **`A`** **`еще не завершилась`** , то транзакция **`В`** проверяет конфликтность операций.
Если операции **`неконфликтны`**, то при объекте R остается или проставляется временная метка с **`меньшим`** значением и транзакция **`B`** выполняет свою операцию.
Если операции транзакций А и В **`конфликтны`**, то, если t(A) больше t(B) (т. е. транзакция А является более «молодой», чем В), то транзакция **`A`** откатывается и, получив новую временную метку, начинается заново.
Транзакция **`B`** продолжает работу.
Если же t(A) меньше t(B) (т. е. транзакция А является более «старой», чем В), то транзакция **`B`** откатывается и, получив новую временную метку, начинается заново.
Транзакция **`A`** продолжает работу.
В итоге система обеспечивает такую работу, при которой при возникновении конфликтов всегда откатывается более «**`молодая`**» транзакция (начавшаяся **`позже`**.

